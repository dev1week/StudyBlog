<!DOCTYPE html> <html><head>
		<title>Dynamo DB - 채팅 내역 저장을 위한 키 설계</title>
		<base href="../../">
		<meta id="root-path" root-path="../../">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=5.0">
		<meta charset="UTF-8">
		<meta name="description" content="Hanju - Dynamo DB - 채팅 내역 저장을 위한 키 설계">
		<meta property="og:title" content="Dynamo DB - 채팅 내역 저장을 위한 키 설계">
		<meta property="og:description" content="Hanju - Dynamo DB - 채팅 내역 저장을 위한 키 설계">
		<meta property="og:type" content="website">
		<meta property="og:url" content="prj/cloudy/dynamo-db-채팅-내역-저장을-위한-키-설계.html">
		<meta property="og:image" content="https://i.imgur.com/o7S8mKQ.png">
		<meta property="og:site_name" content="Hanju">
		<meta name="author" content="1week"><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="lib/rss.xml"><script async="" id="webpage-script" src="lib/scripts/webpage.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script type="module" async="" id="graph-view-script" src="lib/scripts/graph-view.js"></script><script async="" id="graph-wasm-script" src="lib/scripts/graph-wasm.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="graph-render-worker-script" src="lib/scripts/graph-render-worker.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="tinycolor-script" src="lib/scripts/tinycolor.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="pixi-script" src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.4.0/pixi.min.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="minisearch-script" src="https://cdn.jsdelivr.net/npm/minisearch@6.3.0/dist/umd/index.min.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><link rel="icon" href="lib/media/favicon.ico"><script async="" id="graph-data-script" src="lib/scripts/graph-data.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><style>body{--line-width:40em;--line-width-adaptive:40em;--file-line-width:40em;--sidebar-width:min(20em, 80vw);--collapse-arrow-size:11px;--tree-horizontal-spacing:0.6em;--tree-vertical-spacing:0.6em;--sidebar-margin:12px}.sidebar{height:100%;min-width:calc(var(--sidebar-width) + var(--divider-width-hover));max-width:calc(var(--sidebar-width) + var(--divider-width-hover));font-size:14px;z-index:10;position:relative;overflow:hidden;transition:min-width ease-in-out,max-width ease-in-out;transition-duration:.2s;contain:size}.sidebar-left{left:0}.sidebar-right{right:0}.sidebar.is-collapsed{min-width:0;max-width:0}body.floating-sidebars .sidebar{position:absolute}.sidebar-content{height:100%;min-width:calc(var(--sidebar-width) - var(--divider-width-hover));top:0;padding:var(--sidebar-margin);padding-top:4em;line-height:var(--line-height-tight);background-color:var(--background-secondary);transition:background-color,border-right,border-left,box-shadow;transition-duration:var(--color-fade-speed);transition-timing-function:ease-in-out;position:absolute;display:flex;flex-direction:column}.sidebar:not(.is-collapsed) .sidebar-content{min-width:calc(max(100%,var(--sidebar-width)) - 3px);max-width:calc(max(100%,var(--sidebar-width)) - 3px)}.sidebar-left .sidebar-content{left:0;border-top-right-radius:var(--radius-l);border-bottom-right-radius:var(--radius-l)}.sidebar-right .sidebar-content{right:0;border-top-left-radius:var(--radius-l);border-bottom-left-radius:var(--radius-l)}.sidebar:has(.sidebar-content:empty):has(.topbar-content:empty){display:none}.sidebar-topbar{height:2em;width:var(--sidebar-width);top:var(--sidebar-margin);padding-inline:var(--sidebar-margin);z-index:1;position:fixed;display:flex;align-items:center;transition:width ease-in-out;transition-duration:inherit}.sidebar.is-collapsed .sidebar-topbar{width:calc(2.3em + var(--sidebar-margin) * 2)}.sidebar .sidebar-topbar.is-collapsed{width:0}.sidebar-left .sidebar-topbar{left:0}.sidebar-right .sidebar-topbar{right:0}.topbar-content{overflow:hidden;overflow:clip;width:100%;height:100%;display:flex;align-items:center;transition:inherit}.sidebar.is-collapsed .topbar-content{width:0;transition:inherit}.clickable-icon.sidebar-collapse-icon{background-color:transparent;color:var(--icon-color-focused);padding:0!important;margin:0!important;height:100%!important;width:2.3em!important;margin-inline:0.14em!important;position:absolute}.sidebar-left .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);right:var(--sidebar-margin)}.sidebar-right .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);left:var(--sidebar-margin)}.clickable-icon.sidebar-collapse-icon svg.svg-icon{width:100%;height:100%}.sidebar-section-header{margin:0 0 1em 0;text-transform:uppercase;letter-spacing:.06em;font-weight:600}body{transition:background-color var(--color-fade-speed) ease-in-out}.webpage-container{display:flex;flex-direction:row;height:100%;width:100%;align-items:stretch;justify-content:center}.document-container{opacity:1;flex-basis:100%;max-width:100%;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;transition:opacity .2s ease-in-out;contain:inline-size}.hide{opacity:0;transition:opacity .2s ease-in-out}.document-container>.markdown-preview-view{margin:var(--sidebar-margin);margin-bottom:0;width:100%;width:-webkit-fill-available;width:-moz-available;width:fill-available;background-color:var(--background-primary);transition:background-color var(--color-fade-speed) ease-in-out;border-top-right-radius:var(--window-radius,var(--radius-m));border-top-left-radius:var(--window-radius,var(--radius-m));overflow-x:hidden!important;overflow-y:auto!important;display:flex!important;flex-direction:column!important;align-items:center!important;contain:inline-size}.document-container>.markdown-preview-view>.markdown-preview-sizer{padding-bottom:80vh!important;width:100%!important;max-width:var(--line-width)!important;flex-basis:var(--line-width)!important;transition:background-color var(--color-fade-speed) ease-in-out;contain:inline-size}.markdown-rendered img:not([width]),.view-content img:not([width]){max-width:100%;outline:0}.document-container>.view-content.embed{display:flex;padding:1em;height:100%;width:100%;align-items:center;justify-content:center}.document-container>.view-content.embed>*{max-width:100%;max-height:100%;object-fit:contain}:has(> :is(.math,table)){overflow-x:auto!important}.document-container>.view-content{overflow-x:auto;contain:content;padding:0;margin:0;height:100%}.scroll-highlight{position:absolute;width:100%;height:100%;pointer-events:none;z-index:1000;background-color:hsla(var(--color-accent-hsl),.25);opacity:0;padding:1em;inset:50%;translate:-50% -50%;border-radius:var(--radius-s)}</style><script defer="">async function loadIncludes(){if("file:"!=location.protocol){let e=document.querySelectorAll("include");for(let t=0;t<e.length;t++){let o=e[t],l=o.getAttribute("src");try{const e=await fetch(l);if(!e.ok){console.log("Could not include file: "+l),o?.remove();continue}let t=await e.text(),n=document.createRange().createContextualFragment(t),i=Array.from(n.children);for(let e of i)e.classList.add("hide"),e.style.transition="opacity 0.5s ease-in-out",setTimeout((()=>{e.classList.remove("hide")}),10);o.before(n),o.remove(),console.log("Included file: "+l)}catch(e){o?.remove(),console.log("Could not include file: "+l,e);continue}}}else{if(document.querySelectorAll("include").length>0){var e=document.createElement("div");e.id="error",e.textContent="Web server exports must be hosted on an http / web server to be viewed correctly.",e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.fontSize="1.5em",e.style.fontWeight="bold",e.style.textAlign="center",document.body.appendChild(e),document.querySelector(".document-container")?.classList.remove("hide")}}}document.addEventListener("DOMContentLoaded",(()=>{loadIncludes()}));let isFileProtocol="file:"==location.protocol;function waitLoadScripts(e,t){let o=e.map((e=>document.getElementById(e+"-script"))),l=0;!function e(){let n=o[l];l++,n&&"true"!=n.getAttribute("loaded")||l<o.length&&e(),l<o.length?n.addEventListener("load",e):t()}()}</script><link rel="stylesheet" href="lib/styles/obsidian.css"><link rel="preload" href="lib/styles/other-plugins.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/other-plugins.css"></noscript><link rel="stylesheet" href="lib/styles/theme.css"><link rel="preload" href="lib/styles/global-variable-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/global-variable-styles.css"></noscript><link rel="preload" href="lib/styles/supported-plugins.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/supported-plugins.css"></noscript><link rel="preload" href="lib/styles/main-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/main-styles.css"></noscript><link rel="preload" href="lib/styles/snippets.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/snippets.css"></noscript></head><body class="publish css-settings-manager native-scrollbars theme-light show-inline-title AT-row"><script defer="">let theme=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");"dark"==theme?(document.body.classList.add("theme-dark"),document.body.classList.remove("theme-light")):(document.body.classList.add("theme-light"),document.body.classList.remove("theme-dark")),window.innerWidth<480?document.body.classList.add("is-phone"):window.innerWidth<768?document.body.classList.add("is-tablet"):window.innerWidth<1024?document.body.classList.add("is-small-screen"):document.body.classList.add("is-large-screen")</script><div class="webpage-container workspace"><div class="sidebar-left sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="search-input-container"><input enterkeyhint="search" type="search" spellcheck="false" placeholder="Search..."><div class="search-input-clear-button" aria-label="Clear search"></div></div><include src="lib/html/file-tree.html"></include></div><script defer="">let ls = document.querySelector(".sidebar-left"); ls.classList.add("is-collapsed"); if (window.innerWidth > 768) ls.classList.remove("is-collapsed"); ls.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-left-width"));</script></div><div class="document-container markdown-reading-view hide"><div class="markdown-preview-view markdown-rendered allow-fold-headings allow-fold-lists is-readable-line-width"><style id="MJX-CHTML-styles"></style><div class="markdown-preview-sizer markdown-preview-section"><h1 class="page-title heading inline-title" id="채킹 내역 저장을 위한 키 설계"><p>채킹 내역 저장을 위한 키 설계</p></h1><div class="heading-wrapper"><div class="heading-children"><div class="heading-wrapper"><h2 data-heading="개요" class="heading" id="개요"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>개요</h2><div class="heading-children"><div><p>Dynamo Db에서는 Partiion Key와 Sort Key를 합쳐 Primary Key로 사용하는 매우 독특한 특징이 있습니다. 올바르게 Dynamo DB를 사용하기 위해서 DynamoDB의 특징과 성질을 알아보겠습니다. </p></div><div><p><strong>Partition Key</strong><br>
pk는 많은 파티션 중 내가 찾고자하는 데이터가 어느 파티션에 있는지 알려주는 키입니다. 항상 equal 연산자만 사용할 수 있습니다. </p></div><div><p><strong>Sort Key</strong><br>
sk를 이용해서 1:n 관계의 모델링을 적용할 수 있습니다. 오름차순, 내림차순 대로 데이터를 정렬하여 조회할 수 있습니다. <code>begins with</code> , 등호 연산자 및 범위 연산자를 사용할 수 있습니다.</p></div><div><p>pk와 sk를 합쳐 Primary Key가 됩니다. 오직 Primary key로만 데이터 검색이 가능하기 때문에 pk와 sk 조합을 잘 설계해야합니다.<br>
<img src="https://i.imgur.com/o7S8mKQ.png" referrerpolicy="no-referrer"></p></div></div></div><div class="heading-wrapper"><h2 data-heading="Dynamo DB의 주요 특징" class="heading" id="Dynamo_DB의_주요_특징"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Dynamo DB의 주요 특징</h2><div class="heading-children"><div class="heading-wrapper"><h3 data-heading="스케일링" class="heading" id="스케일링"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>스케일링</h3><div class="heading-children"><div><p><img src="https://i.imgur.com/d4RQeDY.png" referrerpolicy="no-referrer"></p></div><div><p>데이터끼리 관계를 맺는 RDBMS는 수평적 확장이 매우 힘듭니다. 때문에 주로 스케일 업을 이용하여 해결합니다. 하지만 태생이 대규모 데이터를 처리하기 위해 나온 NoSQL의 경우 무한히 스케일 아웃을 진행할 수 있습니다.<br>
즉, NoSQL을 활용하는 데이터는 수평으로 확장 가능한 데이터가 되게끔 설계해야합니다. 또한 어느 한쪽의 인스턴스로만 트래픽이 쏠리지 않도록 키를 잘 설계해야합니다.</p></div></div></div><div class="heading-wrapper"><h3 data-heading="파티션이란?" class="heading" id="파티션이란?"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>파티션이란?</h3><div class="heading-children"><div><p>논리적 단위인 테이블은 한 개여도, 내부에서는 파티션이라는 단위로 쪼개져 저장됩니다. </p></div><div class="heading-wrapper"><h4 data-heading="파티션의 제약사항" class="heading" id="파티션의_제약사항"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>파티션의 제약사항</h4><div class="heading-children"><div><p>하나의 파티션은 다음과 같은 제약사항을 가집니다. 데이터가 계속해서 늘어나더라도 파티션의 개수 증가하는 개념이지, 한 <strong>파티션 내의 제약사항은 절대로 변하지 않습니다.</strong> </p></div><div><ol>
<li data-line="0">1k WCU</li>
<li data-line="1">3K RCU </li>
<li data-line="2">10GB<br>
-&gt; <strong>여러개의 파티션이 골고루 사용</strong>되도록 파티션을 식별하는 <strong>키 디자인을 잘하는 것이 중요</strong>합니다.</li>
</ol></div></div></div><div class="heading-wrapper"><h4 data-heading="파티션 선택 방식" class="heading" id="파티션_선택_방식"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>파티션 선택 방식</h4><div class="heading-children"><div><p><img src="https://i.imgur.com/7wXEKR7.png" referrerpolicy="no-referrer"></p></div><div><p><img src="https://i.imgur.com/qL0u4w9.png" referrerpolicy="no-referrer"></p></div><div><p>Dynamo DB는 <strong>Id를 해쉬값으로 변경하여 저장되는 파티션을 결정</strong>합니다. Application 구현시 Key값을 해쉬로 변경하는 로직은 짜지 않아도 괜찮습니다. </p></div></div></div><div class="heading-wrapper"><h4 data-heading="새로운 파티션이 생성되는 시점" class="heading" id="새로운_파티션이_생성되는_시점"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>새로운 파티션이 생성되는 시점</h4><div class="heading-children"><div><p>Amazon DynamoDB에서 파티션은 데이터의 양과 테이블에 대한 읽기/쓰기 요청의 양에 따라 자동으로 관리됩니다. 파티션이 늘어나는 주요 시점은 다음과 같습니다:</p></div><div><p><strong>1.데이터의 양이 증가할 때:</strong><br>
- DynamoDB 테이블에 저장된 데이터의 양이 파티션당 <strong>최대 저장 용량(10GB)을 초과</strong>할 때 새로운 파티션이 자동으로 추가됩니다. 즉, 테이블에 있는 데이터의 총량이 증가하여 각 파티션의 용량이 초과될 경우 DynamoDB는 추가 파티션을 생성하여 데이터를 분산 저장합니다.</p></div><div><p><strong>2.프로비저닝된 읽기/쓰기 용량이 증가할 때:</strong><br>
- 테이블의 프로비저닝된 읽기 및 쓰기 용량 단위가 증가하면 DynamoDB는 이를 수용하기 위해 파티션 수를 늘릴 수 있습니다. 파티션당 최대 처리량(읽기/쓰기 용량)이 제한되어 있기 때문에, 필요한 처리량을 제공하기 위해 더 많은 파티션을 생성합니다.</p></div><div><p><strong>3.온디맨드 모드에서의 스케일링:</strong><br>
- DynamoDB 테이블이 온디맨드 모드로 설정되어 있으면, 읽기 및 쓰기 요청의 트래픽 패턴을 자동으로 감지하여 파티션을 조정합니다. 트래픽이 급증하거나 감소할 때 테이블의 파티션 수는 자동으로 늘어나거나 줄어들 수 있습니다.</p></div></div></div></div></div><div class="heading-wrapper"><h3 data-heading="Dynamo DB의 세벌 복제" class="heading" id="Dynamo_DB의_세벌_복제"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Dynamo DB의 세벌 복제</h3><div class="heading-children"><div><p><img src="https://i.imgur.com/78MRveb.png" referrerpolicy="no-referrer"></p></div><div><p>Dynamo DB는 항상 데이터를 복제하여 저장합니다. 3개의 가용영역에 복제되며 서비스는 3개의 가용영역에서 실행됩니다. </p></div></div></div></div></div><div class="heading-wrapper"><h2 data-heading="고려해야할 제약사항들" class="heading" id="고려해야할_제약사항들"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>고려해야할 제약사항들</h2><div class="heading-children"><div class="heading-wrapper"><h3 data-heading="기본적인 처리량 단위" class="heading" id="기본적인_처리량_단위"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>기본적인 처리량 단위</h3><div class="heading-children"><div><p>DynamoDB는 RCU와 WCU라는 컴퓨팅 단위를 사용합니다. 일반적인 RDB와는 다르게 WCU와 RCU는 독립적으로 동작합니다. </p></div><div style="overflow-x: auto;"><table id="obsidian-sheets-parsed"><thead><tr><th class="" row-index="0" col-index="0">단위명</th><th class="" row-index="0" col-index="1">프로비전드 환경</th><th class="" row-index="0" col-index="2">온디맨드 환경</th></tr></thead><tbody><tr></tr><tr></tr><tr><td class="" row-index="2" col-index="0"><strong>RCU (Read Capacity Unit)</strong></td><td class="" row-index="2" col-index="1">4KB/s</td><td class="" row-index="2" col-index="2">4KB/req</td></tr><tr><td class="" row-index="3" col-index="0"><strong>WCU(Write Capacity Unit)</strong></td><td class="" row-index="3" col-index="1">1KB/s</td><td class="" row-index="3" col-index="2">1KB/req</td></tr><tr><td class="" row-index="4" col-index="0"><strong>Eventually Consistent 읽기</strong></td><td class="" row-index="4" col-index="1">8KB/s</td><td class="" row-index="4" col-index="2">8KB/req</td></tr><tr><td class="" row-index="5" col-index="0"><strong>Strongly Consistent 읽기</strong></td><td class="" row-index="5" col-index="1">4KB/s</td><td class="" row-index="5" col-index="2">4KB/req</td></tr></tbody></table></div></div></div><div class="heading-wrapper"><h3 data-heading="사이즈" class="heading" id="사이즈"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>사이즈</h3><div class="heading-children"><div><p>테이블의 전체 크기를 의미합니다. 테이블에 넣을 수 있는 아이템의 개수로 따지는 것이 아닌 최대 크기로 따집니다. 400KB까지 사용 가능합니다. 하지만 400KB를 전부 사용하는 것은 권장하지 않습니다. DynamoDB는 하나의 아이템에서 한 글자만 바뀌어도 다시 쓰는 특성을 갖습니다. 이러한 이유로 아이템의 사이즈는 작게, 아이템의 개수가 많게끔 저장되는 데이터를 모델링하는 것이 이상적입니다. </p></div><div><p>-&gt; DynamoDB의 컨셉은 <strong>무한하게 많은 데이터 중 PK+SK의 조합으로 특정한 데이터를 가능한한 빠르게 반환</strong>하는 것임을 잊지말아야합니다. </p></div></div></div></div></div><div class="heading-wrapper"><h2 data-heading="Dynamo DB에서 데이터를 읽는 방법" class="heading" id="Dynamo_DB에서_데이터를_읽는_방법"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Dynamo DB에서 데이터를 읽는 방법</h2><div class="heading-children"><div><p>기본적으로 Dynamo DB에서는 데이터를 읽기 위한 REST API를 제공합니다. </p></div><div class="heading-wrapper"><h3 data-heading="GetItem" class="heading" id="GetItem"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>GetItem</h3><div class="heading-children"><div><ul>
<li data-line="0">Partition Key의 정확한 값을 지정해야합니다. </li>
<li data-line="1">0개 또는 1개의 아이템만 반환합니다. </li>
<li data-line="2"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>아이템 크기에 따라 RCU를 사용합니다. 
<ul>
<li data-line="3">아이템 크기가 10kb인 경우 2RCU를 사용합니다. </li>
</ul>
</li>
</ul></div></div></div><div class="heading-wrapper"><h3 data-heading="Query" class="heading" id="Query"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Query</h3><div class="heading-children"><div><ul>
<li data-line="0">Partition Key의 정확한 값을 지정해야합니다. </li>
<li data-line="1">선택적으로 attributes에 필터링 조건을 추가할 수 있습니다. </li>
<li data-line="2">조건에 맞는 아이템을 여러개 반환합니다. </li>
<li data-line="3">조건과 일치하는 아이템 크기에 따라 RCU를 소비하여 단일 결과를 반환합니다. </li>
</ul></div><div><p><strong>LastEvaluatedKey</strong> </p></div><div><ul>
<li data-line="0">Query는 단일 호출로 최대 1MB만 반환할 수 있습니다.</li>
<li data-line="1">응답 메시지가 1MB 이상일 경우 LastEvaluatedKey를 활용해 pagination이 가능합니다.</li>
</ul></div></div></div><div class="heading-wrapper"><h3 data-heading="Scan" class="heading" id="Scan"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Scan</h3><div class="heading-children"><div><ul>
<li data-line="0">rdbms에서의 Full Table Scan 과 동일합니다.</li>
</ul></div><div><p><strong>Dynamo DB에서는 페이지네이션과 비슷하게 동작합니다.</strong> </p></div><div><ul>
<li data-line="0">rdbms에서는 테이블 끝까지 조회하지만, DynamoDB에서는 1MB 단위로 스캔이 가능합니다. </li>
<li data-line="1">return 갑 중 token을 활용해 다음 1MB 데이터를 스캔할 수 있습니다. </li>
</ul></div><div><p><strong>사용예시</strong></p></div><div><ul>
<li data-line="0">OLTP의 운영환경에서는 사실상 사용할 일이 없습니다. (어쨌거나 저쨌거나 결국 full table scan입니다.)</li>
<li data-line="1">온라인 마이그레이션을 할때의 옵션 중 하나입니다. </li>
</ul></div></div></div><div class="heading-wrapper"><h3 data-heading="Transact가 붙어있는 API 들" class="heading" id="Transact가_붙어있는_API_들"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Transact가 붙어있는 API 들</h3><div class="heading-children"><div><ul>
<li data-line="0">ACID를 지원하기 위한 API입니다. </li>
<li data-line="1">단일 리전 내에서 여러개의 테이블이나 아이템을 트랜잭션으로 묶어 읽거나 쓸 수 있습니다. </li>
<li data-line="2">WCU와 RCU가 2배가 소모되기 때문에, 필요한 곳에만 최소화하여 사용해야합니다. </li>
</ul></div></div></div></div></div><div class="heading-wrapper"><h2 data-heading="Secondary Index" class="heading" id="Secondary_Index"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Secondary Index</h2><div class="heading-children"><div><p>Amazon DynamoDB에서 LSI(Local Secondary Index)와 GSI(Global Secondary Index)는 테이블의 쿼리 성능을 향상시키기 위해 사용되는 인덱스입니다. 두 인덱스 모두 테이블의 속성을 기준으로 데이터를 효율적으로 검색할 수 있게 해주지만, 사용 방법과 동작 방식에서 몇 가지 중요한 차이점이 있습니다.</p></div><div class="heading-wrapper"><h3 data-heading="GSI" class="heading" id="GSI"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>GSI</h3><div class="heading-children"><div><p><img src="https://i.imgur.com/I7V2d7g.png" referrerpolicy="no-referrer"></p></div><div><ul>
<li data-line="0">테이블의 Primary Key 외의 다른 검색 조건이 필요한 경우 사용합니다.</li>
<li data-line="1">추가나 삭제가 자유로워 스키마 변경시 유연하게 대처할 수 있습니다. </li>
<li data-line="2">원하는 Attribute를 GSI의 PK, SK로 설정합니다. </li>
</ul></div></div></div><div class="heading-wrapper"><h3 data-heading="LSI" class="heading" id="LSI"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>LSI</h3><div class="heading-children"><div><p><img src="https://i.imgur.com/YzEEnCb.png" referrerpolicy="no-referrer"></p></div><div><ul>
<li data-line="0">테이블 안에서 동일한 PK를 사용하며, 다른 SK를 사용하고 싶을 때 LSI를 사용합니다.</li>
</ul></div><div><p><strong>일반적으로 사용을 권장하지 않습니다.</strong></p></div><div><ul>
<li data-line="0">GSI와 달리 테이블 생성 시점에만 설정이 가능합니다. </li>
<li data-line="1">사용 도중 삭제 또한 불가능합니다.</li>
</ul></div></div></div><div class="heading-wrapper"><h3 data-heading="비교" class="heading" id="비교"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>비교</h3><div class="heading-children"><div style="overflow-x: auto;"><table id="obsidian-sheets-parsed"><thead><tr><th class="" row-index="0" col-index="0">​</th><th class="" row-index="0" col-index="1">GSI</th><th class="" row-index="0" col-index="2">LSI</th></tr></thead><tbody><tr></tr><tr></tr><tr><td class="" row-index="2" col-index="0">자유도</td><td class="" row-index="2" col-index="1">생성과 삭제가 자유롭다</td><td class="" row-index="2" col-index="2">테이블 생성 시에만 생성 후, 삭제할 수 없다.</td></tr><tr><td class="" row-index="3" col-index="0">단위처리량</td><td class="" row-index="3" col-index="1">베이스 테이블과 별도의 WCU/RCU를 갖는다.</td><td class="" row-index="3" col-index="2">베이스 테이블과 WCU/RCU를 공유한다.</td></tr><tr><td class="" row-index="4" col-index="0">제약사항</td><td class="" row-index="4" col-index="1">없다</td><td class="" row-index="4" col-index="2">10GB이하</td></tr><tr><td class="" row-index="5" col-index="0">개수</td><td class="" row-index="5" col-index="1">20</td><td class="" row-index="5" col-index="2">5</td></tr><tr><td class="" row-index="6" col-index="0">고려</td><td class="" row-index="6" col-index="1">강력한 일관성을 보장하지 않습니다.</td><td class="" row-index="6" col-index="2">강력한 일관성을 보장합니다.</td></tr></tbody></table></div><div><p><img src="https://i.imgur.com/XvYMacu.png" referrerpolicy="no-referrer"></p></div><div><p>rdbms에서 처럼 엔티티별로 테이블을 만들지 말자<br>
오른쪽 예시처럼 최대한 빠르게 데이터를 조회하게 끔 해야한다. </p></div><div><ol>
<li data-line="0">application의 usecase가 dynamo db가 잘하는 것과 맞는지 판단해야합니다. </li>
</ol></div><div><p>Dynamodb가 가장 잘하는 것은 무한대의 가까운 item에서 특정개수의 아이템을 Primary Key(PK+SK)로 빠르게 조회하는 것 이다. 대량의 벌크성 쿼리, range 쿼리, 집계 쿼리는 잘 수행하지 못합니다.</p></div><div><ol start="2">
<li data-line="0">액세스 패턴을 식별해야합니다.<br>
읽기/쓰기 워크로드, 쿼리 차원, 집계</li>
</ol></div><div><p>사이즈가 작은 여러개의 테이블보다는 사이즈가 큰 하나의 테이블을 사용하는 것이 낫다.<br>
DynamoDB는 테이블 단위 완전 관리형 서비스이다.<br>
Dynamo DB는 풀서버리스 형태의 <strong>테이블 단위 완전관리</strong>형 서비스입니다. 여러 개의 테이블을 만들게 되면 각 테이블에 대한 설정, 모니터링, 최적화 등의 관리 작업이 필요하게 됩니다. 예를 들어 각 테이블의 스키마 설정 및 변경, 인덱스 관리, 성능 모니터링 및 튜닝, 읽기/쓰기 용량 설정 등을 각각의 테이블 별로 따로 해줘야합니다.<br>
이는 완전관리형 서비스의 설계 철학, 즉 "사용자가 최소한의 관리만으로 데이터베이스를 운영할 수 있도록 한다"는 목표에 어긋나게 됩니다.</p></div><div><p>테이블을 하나로 사용해야지, 여러개의 파티션을 사용하는 DynamoDB의 특성을 제대로 활용할 수 있습니다. 또한 핫 파티션이 발생할 확률이 줄어듭니다. </p></div><div><p>OLTP vs OLAP<br>
OLTP가 적합합니다. OLAP인 경우 DynamoDB 외부로 파이프라인을 만들어 분석을 수행해야합니다. </p></div><div><p>디자인 패턴 </p></div><div><p>비정규화 </p></div><div class="mod-footer"></div></div></div></div></div></div></div></div></div></div><div class="sidebar-right sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="graph-view-wrapper"><div class="sidebar-section-header">Interactive Graph</div><div class="graph-view-placeholder">
		<div class="graph-view-container">
			<div class="graph-icon graph-expand" role="button" aria-label="Expand" data-tooltip-position="top"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg></div>
			<canvas id="graph-canvas" class="hide" width="512px" height="512px"></canvas>
		</div>
		</div></div><div class="tree-container mod-root nav-folder tree-item outline-tree" data-depth="0"><div class="tree-header"><span class="sidebar-section-header">Table Of Contents</span><button class="clickable-icon collapse-tree-button is-collapsed" aria-label="Collapse All"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg></button></div><div class="tree-scroll-area tree-item-children nav-folder-children"><div class="tree-item mod-tree-folder nav-folder mod-collapsible is-collapsed" style="display: none;"></div><div class="tree-item" data-depth="1"><a class="tree-link" href="prj/cloudy/dynamo-db-채팅-내역-저장을-위한-키-설계.html#채킹 내역 저장을 위한 키 설계"><div class="tree-item-contents heading-link" heading-name="채킹 내역 저장을 위한 키 설계"><span class="tree-item-title">채킹 내역 저장을 위한 키 설계</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="2"><a class="tree-link" href="prj/cloudy/dynamo-db-채팅-내역-저장을-위한-키-설계.html#개요"><div class="tree-item-contents heading-link" heading-name="개요"><span class="tree-item-title">개요</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item mod-collapsible is-collapsed" data-depth="2"><a class="tree-link" href="prj/cloudy/dynamo-db-채팅-내역-저장을-위한-키-설계.html#Dynamo_DB의_주요_특징"><div class="tree-item-contents heading-link" heading-name="Dynamo DB의 주요 특징"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">Dynamo DB의 주요 특징</span></div></a><div class="tree-item-children nav-folder-children" style="display: none;"><div class="tree-item" data-depth="3"><a class="tree-link" href="prj/cloudy/dynamo-db-채팅-내역-저장을-위한-키-설계.html#스케일링"><div class="tree-item-contents heading-link" heading-name="스케일링"><span class="tree-item-title">스케일링</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item mod-collapsible is-collapsed" data-depth="3"><a class="tree-link" href="prj/cloudy/dynamo-db-채팅-내역-저장을-위한-키-설계.html#파티션이란?"><div class="tree-item-contents heading-link" heading-name="파티션이란?"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">파티션이란?</span></div></a><div class="tree-item-children nav-folder-children" style="display: none;"><div class="tree-item" data-depth="4"><a class="tree-link" href="prj/cloudy/dynamo-db-채팅-내역-저장을-위한-키-설계.html#파티션의_제약사항"><div class="tree-item-contents heading-link" heading-name="파티션의 제약사항"><span class="tree-item-title">파티션의 제약사항</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="prj/cloudy/dynamo-db-채팅-내역-저장을-위한-키-설계.html#파티션_선택_방식"><div class="tree-item-contents heading-link" heading-name="파티션 선택 방식"><span class="tree-item-title">파티션 선택 방식</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="prj/cloudy/dynamo-db-채팅-내역-저장을-위한-키-설계.html#새로운_파티션이_생성되는_시점"><div class="tree-item-contents heading-link" heading-name="새로운 파티션이 생성되는 시점"><span class="tree-item-title">새로운 파티션이 생성되는 시점</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="prj/cloudy/dynamo-db-채팅-내역-저장을-위한-키-설계.html#Dynamo_DB의_세벌_복제"><div class="tree-item-contents heading-link" heading-name="Dynamo DB의 세벌 복제"><span class="tree-item-title">Dynamo DB의 세벌 복제</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item mod-collapsible is-collapsed" data-depth="2"><a class="tree-link" href="prj/cloudy/dynamo-db-채팅-내역-저장을-위한-키-설계.html#고려해야할_제약사항들"><div class="tree-item-contents heading-link" heading-name="고려해야할 제약사항들"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">고려해야할 제약사항들</span></div></a><div class="tree-item-children nav-folder-children" style="display: none;"><div class="tree-item" data-depth="3"><a class="tree-link" href="prj/cloudy/dynamo-db-채팅-내역-저장을-위한-키-설계.html#기본적인_처리량_단위"><div class="tree-item-contents heading-link" heading-name="기본적인 처리량 단위"><span class="tree-item-title">기본적인 처리량 단위</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="prj/cloudy/dynamo-db-채팅-내역-저장을-위한-키-설계.html#사이즈"><div class="tree-item-contents heading-link" heading-name="사이즈"><span class="tree-item-title">사이즈</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item mod-collapsible is-collapsed" data-depth="2"><a class="tree-link" href="prj/cloudy/dynamo-db-채팅-내역-저장을-위한-키-설계.html#Dynamo_DB에서_데이터를_읽는_방법"><div class="tree-item-contents heading-link" heading-name="Dynamo DB에서 데이터를 읽는 방법"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">Dynamo DB에서 데이터를 읽는 방법</span></div></a><div class="tree-item-children nav-folder-children" style="display: none;"><div class="tree-item" data-depth="3"><a class="tree-link" href="prj/cloudy/dynamo-db-채팅-내역-저장을-위한-키-설계.html#GetItem"><div class="tree-item-contents heading-link" heading-name="GetItem"><span class="tree-item-title">GetItem</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="prj/cloudy/dynamo-db-채팅-내역-저장을-위한-키-설계.html#Query"><div class="tree-item-contents heading-link" heading-name="Query"><span class="tree-item-title">Query</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="prj/cloudy/dynamo-db-채팅-내역-저장을-위한-키-설계.html#Scan"><div class="tree-item-contents heading-link" heading-name="Scan"><span class="tree-item-title">Scan</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="prj/cloudy/dynamo-db-채팅-내역-저장을-위한-키-설계.html#Transact가_붙어있는_API_들"><div class="tree-item-contents heading-link" heading-name="Transact가 붙어있는 API 들"><span class="tree-item-title">Transact가 붙어있는 API 들</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item mod-collapsible is-collapsed" data-depth="2"><a class="tree-link" href="prj/cloudy/dynamo-db-채팅-내역-저장을-위한-키-설계.html#Secondary_Index"><div class="tree-item-contents heading-link" heading-name="Secondary Index"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">Secondary Index</span></div></a><div class="tree-item-children nav-folder-children" style="display: none;"><div class="tree-item" data-depth="3"><a class="tree-link" href="prj/cloudy/dynamo-db-채팅-내역-저장을-위한-키-설계.html#GSI"><div class="tree-item-contents heading-link" heading-name="GSI"><span class="tree-item-title">GSI</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="prj/cloudy/dynamo-db-채팅-내역-저장을-위한-키-설계.html#LSI"><div class="tree-item-contents heading-link" heading-name="LSI"><span class="tree-item-title">LSI</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="prj/cloudy/dynamo-db-채팅-내역-저장을-위한-키-설계.html#비교"><div class="tree-item-contents heading-link" heading-name="비교"><span class="tree-item-title">비교</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div></div></div></div></div></div><script defer="">let rs = document.querySelector(".sidebar-right"); rs.classList.add("is-collapsed"); if (window.innerWidth > 768) rs.classList.remove("is-collapsed"); rs.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-right-width"));</script></div></div></body></html>